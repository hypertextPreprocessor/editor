!function(e,l){"object"==typeof exports&&"object"==typeof module?module.exports=l():"function"==typeof define&&define.amd?define("myEditor",[],l):"object"==typeof exports?exports.myEditor=l():e.myEditor=l()}(this,(()=>(this.webpackChunkmyEditor=this.webpackChunkmyEditor||[]).push([[143],{5963:(e,l,t)=>{"use strict";t.r(l);var r=t(4942),n=t(5671),a=t(3144),u=t(9340),s=t(3930),o=t(1120),m=t(7294),i=t(745),c=t(9869),b=t(5109),N=t.n(b),_=t(637),f=(t(7236),t(9506),t(253),t(9847),t(3379)),h=t.n(f),d=t(7795),p=t.n(d),y=t(569),E=t.n(y),v=t(3565),k=t.n(v),g=t(9216),q=t.n(g),w=t(4589),x=t.n(w),S=t(4116),C={};C.styleTagTransform=x(),C.setAttributes=k(),C.insert=E().bind(null,"head"),C.domAPI=p(),C.insertStyleElement=q(),h()(S.Z,C),S.Z&&S.Z.locals&&S.Z.locals;var O="/home/tanglin/下载/pvt/editor/src/index.js";function j(e,l){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);l&&(r=r.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),t.push.apply(t,r)}return t}function L(e){for(var l=1;l<arguments.length;l++){var t=null!=arguments[l]?arguments[l]:{};l%2?j(Object(t),!0).forEach((function(l){(0,r.Z)(e,l,t[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))}))}return e}var R=function(e){(0,u.Z)(i,e);var l,t,r=(l=i,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,o.Z)(l);if(t){var n=(0,o.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function i(e){var l;return(0,n.Z)(this,i),(l=r.call(this,e)).state={quill:null,tableRowNum:3,tableColumnNum:3,html:"",fixedMenu:{}},l.editor=m.createRef(),l.toolbar=m.createRef(),l}return(0,a.Z)(i,[{key:"initEditor",value:function(){_.Z.highlightAll(),c.default.register({"modules/better-table":N()},!0);var e=new c.default(this.editor.current,{modules:{toolbar:this.toolbar.current,syntax:{hljs:function(){return _.Z},languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"c",label:"C"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"scss",label:"SCSS"},{key:"cmd",label:"DOS"},{key:"shell",label:"Shell"},{key:"coffeescript",label:"CoffeeScript"},{key:"diff",label:"Diff"},{key:"dart",label:"Dart"},{key:"go",label:"GO"},{key:"xml",label:"HTML/XML"},{key:"json",label:"JSON"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"kt",label:"Kotlin"},{key:"lisp",label:"Lisp"},{key:"lua",label:"Lua"},{key:"markdown",label:"Markdown"},{key:"nginx",label:"Nginx"},{key:"objectivec",label:"Objective C"},{key:"glsl",label:"OpenGL Shading Language"},{key:"php",label:"PHP"},{key:"pl",label:"Perl"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"rust",label:"Rust"},{key:"sql",label:"SQL"},{key:"swift",label:"Swift"},{key:"pgsql",label:"PostgreSQL"},{key:"typescript",label:"TypeScript"},{key:"vbscript",label:"VBScript"},{key:"yml",label:"YAML"}]},table:!1,"better-table":{operationMenu:{items:{insertColumnRight:{text:"右侧插入一列"},insertColumnLeft:{text:"左侧插入一列"},insertRowUp:{text:"上方插入一行"},insertRowDown:{text:"下方插入一行"},deleteColumn:{text:"删除所选列"},deleteRow:{text:"删除所选行"},deleteTable:{text:"删除表格"},mergeCells:{text:"合并所选单元格"},unmergeCells:{text:"拆分所选单元格"}},color:{text:"背景颜色",colors:["red","green","yellow","#f7f7f7","#dbdbdb","gray","#333333","#666666","#999999","#d98c8c","#000000","#2d6024","#d3c352","#7e52d3","#8ad5e1","#090d40","#578d88","#75762b","#f5c4c4","#1ad5ff","#c5d352"]}}},keyboard:{bindings:N().keyboardBindings}},theme:"snow"});this.setState({quill:e})}},{key:"handleHTMLFormat",value:function(){var e=document.querySelector("#editor").cloneNode(!0);e.querySelector(".ql-tooltip").parentNode.removeChild(e.querySelector(".ql-tooltip"));for(var l=e.querySelectorAll("select.ql-ui"),t=0;t<l.length;t++)l[t].parentNode.removeChild(l[t]);for(var r=e.querySelectorAll("colgroup"),n=0;n<r.length;n++)r[n].parentNode.removeChild(r[n]);return e.outerHTML.replaceAll(/<br>/gi,"<br/>").replaceAll("&nbsp;","&#160;")}},{key:"componentDidMount",value:function(){var e=this;this.initEditor(),window.addEventListener("scroll",(function(){document.body.scrollTop>30||document.documentElement.scrollTop>30?e.setState({fixedMenu:{position:"fixed",width:"100%",background:"#ffffff",top:0,zIndex:2}}):e.setState({fixedMenu:""})}))}},{key:"forbidEmptyALl",value:function(e){return null!=(e=String(e)).match(/\s/g)&&e.match(/\s/g).length===e.length}},{key:"createTable",value:function(){""===this.state.tableRowNum||""===this.state.tableColumnNum||this.forbidEmptyALl(this.state.tableRowNum)||this.forbidEmptyALl(this.state.tableColumnNum)?alert("表格行或列不能为空"):Object.is(Number(this.state.tableRowNum),NaN)||Object.is(Number(this.state.tableColumnNum),NaN)?alert("表格行或列只能填入数字"):this.state.quill.getModule("better-table").insertTable(Number(this.state.tableRowNum),Number(this.state.tableColumnNum))}},{key:"render",value:function(){var e=this;return m.createElement(m.Fragment,null,m.createElement("div",{id:"toolbar",ref:this.toolbar,style:L({},this.state.fixedMenu),__self:this,__source:{fileName:O,lineNumber:174,columnNumber:13}},m.createElement("select",{className:"ql-font",__self:this,__source:{fileName:O,lineNumber:175,columnNumber:5}}),m.createElement("select",{className:"ql-size",__self:this,__source:{fileName:O,lineNumber:176,columnNumber:5}},m.createElement("option",{value:"small",__self:this,__source:{fileName:O,lineNumber:177,columnNumber:9}}),m.createElement("option",{defaultValue:!0,__self:this,__source:{fileName:O,lineNumber:178,columnNumber:9}}),m.createElement("option",{value:"large",__self:this,__source:{fileName:O,lineNumber:179,columnNumber:9}}),m.createElement("option",{value:"huge",__self:this,__source:{fileName:O,lineNumber:180,columnNumber:9}})),m.createElement("button",{className:"ql-blockquote",__self:this,__source:{fileName:O,lineNumber:182,columnNumber:5}}),m.createElement("button",{className:"ql-code",__self:this,__source:{fileName:O,lineNumber:183,columnNumber:5}}),m.createElement("button",{className:"ql-code-block",__self:this,__source:{fileName:O,lineNumber:184,columnNumber:5}}),m.createElement("select",{className:"ql-header",__self:this,__source:{fileName:O,lineNumber:185,columnNumber:5}},m.createElement("option",{defaultValue:!0,__self:this,__source:{fileName:O,lineNumber:186,columnNumber:9}}),m.createElement("option",{value:"1",__self:this,__source:{fileName:O,lineNumber:187,columnNumber:9}}),m.createElement("option",{value:"2",__self:this,__source:{fileName:O,lineNumber:188,columnNumber:9}}),m.createElement("option",{value:"3",__self:this,__source:{fileName:O,lineNumber:189,columnNumber:9}}),m.createElement("option",{value:"4",__self:this,__source:{fileName:O,lineNumber:190,columnNumber:9}}),m.createElement("option",{value:"5",__self:this,__source:{fileName:O,lineNumber:191,columnNumber:9}}),m.createElement("option",{value:"6",__self:this,__source:{fileName:O,lineNumber:192,columnNumber:9}})),m.createElement("span",{className:"ql-formats",__self:this,__source:{fileName:O,lineNumber:194,columnNumber:5}},m.createElement("button",{className:"ql-link",__self:this,__source:{fileName:O,lineNumber:195,columnNumber:9}}),m.createElement("select",{className:"ql-color",__self:this,__source:{fileName:O,lineNumber:196,columnNumber:9}}),m.createElement("select",{className:"ql-background",__self:this,__source:{fileName:O,lineNumber:197,columnNumber:9}})),m.createElement("span",{className:"ql-formats",__self:this,__source:{fileName:O,lineNumber:199,columnNumber:5}},m.createElement("button",{className:"ql-bold",__self:this,__source:{fileName:O,lineNumber:200,columnNumber:9}}),m.createElement("button",{className:"ql-italic",__self:this,__source:{fileName:O,lineNumber:201,columnNumber:9}}),m.createElement("button",{className:"ql-underline",__self:this,__source:{fileName:O,lineNumber:202,columnNumber:9}}),m.createElement("button",{className:"ql-strike",__self:this,__source:{fileName:O,lineNumber:203,columnNumber:9}}),m.createElement("button",{className:"ql-script",value:"sub",__self:this,__source:{fileName:O,lineNumber:204,columnNumber:9}}),m.createElement("button",{className:"ql-script",value:"super",__self:this,__source:{fileName:O,lineNumber:205,columnNumber:9}})),m.createElement("span",{className:"ql-formats",__self:this,__source:{fileName:O,lineNumber:207,columnNumber:5}},m.createElement("input",{style:{width:"20px"},type:"text",placeholder:"行",onChange:function(l){e.setState({tableRowNum:l.target.value})},__self:this,__source:{fileName:O,lineNumber:208,columnNumber:9}}),"x",m.createElement("input",{style:{width:"20px"},type:"text",placeholder:"列",onChange:function(l){e.setState({tableColumnNum:l.target.value})},__self:this,__source:{fileName:O,lineNumber:212,columnNumber:9}}),m.createElement("button",{size:"small",onClick:this.createTable.bind(this),__self:this,__source:{fileName:O,lineNumber:215,columnNumber:9}},"T")),m.createElement("span",{className:"ql-formats",__self:this,__source:{fileName:O,lineNumber:219,columnNumber:5}},m.createElement("button",{className:"ql-list",value:"ordered",__self:this,__source:{fileName:O,lineNumber:220,columnNumber:9}}),m.createElement("button",{className:"ql-list",value:"bullet",__self:this,__source:{fileName:O,lineNumber:221,columnNumber:9}})),m.createElement("span",{className:"ql-formats",__self:this,__source:{fileName:O,lineNumber:223,columnNumber:5}},m.createElement("button",{className:"ql-image",__self:this,__source:{fileName:O,lineNumber:224,columnNumber:9}}),m.createElement("button",{className:"ql-video",__self:this,__source:{fileName:O,lineNumber:225,columnNumber:9}})),m.createElement("span",{className:"ql-formats",__self:this,__source:{fileName:O,lineNumber:227,columnNumber:5}},m.createElement("button",{className:"ql-indent",value:"-1",__self:this,__source:{fileName:O,lineNumber:228,columnNumber:9}}),m.createElement("button",{className:"ql-indent",value:"+1",__self:this,__source:{fileName:O,lineNumber:229,columnNumber:9}}),m.createElement("button",{className:"ql-direction",value:"rtl",__self:this,__source:{fileName:O,lineNumber:230,columnNumber:9}}),m.createElement("select",{className:"ql-align",__self:this,__source:{fileName:O,lineNumber:231,columnNumber:9}},m.createElement("option",{defaultValue:!0,__self:this,__source:{fileName:O,lineNumber:232,columnNumber:13}}),m.createElement("option",{value:"center",__self:this,__source:{fileName:O,lineNumber:233,columnNumber:13}}),m.createElement("option",{value:"right",__self:this,__source:{fileName:O,lineNumber:234,columnNumber:13}}),m.createElement("option",{value:"justify",__self:this,__source:{fileName:O,lineNumber:235,columnNumber:13}})),m.createElement("button",{className:"ql-formula",__self:this,__source:{fileName:O,lineNumber:237,columnNumber:9}}),m.createElement("button",{className:"ql-clean",__self:this,__source:{fileName:O,lineNumber:238,columnNumber:9}}))),m.createElement("div",{id:"editor",ref:this.editor,style:{minHeight:700},__self:this,__source:{fileName:O,lineNumber:241,columnNumber:13}}),m.createElement("button",{id:"getHtmlForXhtml",onClick:function(){var l=e.handleHTMLFormat();e.setState({html:l})},__self:this,__source:{fileName:O,lineNumber:242,columnNumber:13}},"获取HTML"),m.createElement("button",{onClick:function(){var l=e.handleHTMLFormat();navigator.clipboard.writeText(l).then((function(){alert("成功复制")}),(function(){alert("无法复制")}))},__self:this,__source:{fileName:O,lineNumber:246,columnNumber:13}},"复制"),m.createElement("div",{__self:this,__source:{fileName:O,lineNumber:256,columnNumber:13}},this.state.html))}}]),i}(m.Component);i.s(document.querySelector("#app")).render(m.createElement(R,{__self:void 0,__source:{fileName:O,lineNumber:263,columnNumber:13}}))},4116:(e,l,t)=>{"use strict";t.d(l,{Z:()=>s});var r=t(8081),n=t.n(r),a=t(3645),u=t.n(a)()(n());u.push([e.id,".ql-snow .ql-editor .ql-code-block-container{\n    background-color:#f0f0f0 !important;\n    color:#000000;\n}",""]),u.locals={};const s=u},4654:()=>{}},e=>(e.O(0,[242],(()=>(5963,e(e.s=5963)))),e.O())])));